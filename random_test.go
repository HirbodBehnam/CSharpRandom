package CSharpRandom

import (
	"encoding/base64"
	"math"
	"testing"
	"time"
)

func NextIntSequenceTesting(t *testing.T ,seed int32, expected []int32) {
	r := NewRandom(seed)
	for i,v := range expected{
		rng := r.NextInt()
		if rng != v {
			t.Errorf("numbers do not match on index %d: Got %d while expecting %d", i, rng, v)
		}
	}
}

func NextDoubleSequenceTesting(t *testing.T ,seed int32, expected []float64) {
	r := NewRandom(seed)
	for i,v := range expected{
		rng := r.NextDouble()
		if rng != v {
			t.Errorf("numbers do not match on index %d: Got %f while expecting %f", i, rng, v)
		}
	}
}

func NextRangeSequenceTesting(t *testing.T ,seed, min, max int32, expected []int32) {
	r := NewRandom(seed)
	for i,v := range expected{
		rng, _ := r.NextRange(min, max)
		if rng != v {
			t.Errorf("numbers do not match on index %d: Got %d while expecting %d", i, rng, v)
		}
	}
}

func TestNextInt1(t *testing.T) {
	expected := []int32{1559595546,1755192844,1649316166,1198642031,442452829,1200195957,1945678308,949569752,2099272109,587775847,626863973,1003550677,1358625013,1008269081,2109153755,65212616,1851925803,2137491580,1454235444,675580731,1754296375,1821177336,2130093701,70062080,1503113964,1130186590,2005789796,1476653312,1174277203,174182291,401846963,973512717,638171722,2122881600,1380182313,1638451829,65271247,818200948,736891500,2056119311,1084756724,1537539262,255459778,587232589,1947978014,1706746116,724046315,981848395,315304373,475269784,880625662,1543454120,1331075398,1047903413,418573418,1885901857,1772582790,1579254086,1843011714,1459749886,1341889808,469024996,1922776196,1925089818,185928884,1800834903,365378955,1383227060,1775570415,470701926,2147425016,1033724855,1400600080,1545599780,1738307654,216757113,1565717558,1542861112,269567713,1943851495,406140275,1023941401,1161348939,699007419,1441040276,1005876490,1789920966,1737751956,1704308182,1641764103,2013352686,633500808,1122672881,1424625261,714229503,615731728,1762246713,477853607,401303705,147143111}
	NextIntSequenceTesting(t,0,expected)
}

func TestNextInt2(t *testing.T) {
	expected := []int32{344414398,835761977,1974212073,1045695125,1886919456,2022130684,580424899,1720448091,385974997,1598923313,1178325691,2098410064,2027770993,938033104,1820298678,856855027,996832691,277502656,1580271486,1530492367,1122119093,1760779909,1579056962,956986321,79153874,1967116312,263584625,1199184233,1204689505,249751558,1667224668,1301265383,851942632,892083447,447743152,936039249,15929873,1368658834,263616422,471802385,1859287856,1621625423,858154809,1141387407,511584470,974479064,621461400,1831575669,119187868,412227699,1300401858,1237033941,380430170,1243407168,460821955,731118136,1404188662,1017225752,966541251,2067286791,1758546059,1528724313,515758586,136223439,2079182292,2024543955,1246467432,1135687546,490289952,884259429,840925154,1775657504,13886234,1108469101,1818688158,1647977317,902625100,437669555,445401851,1252158457,1345654912,579492603,1079996365,792461806,1096833347,430190727,920835213,1756019111,431261492,1864108663,1679334234,1146187768,402117583,343813278,860739973,330563543,1105866837,721931370,1209688762,634524162}
	NextIntSequenceTesting(t, 1351797111,expected)
}

func TestNextInt3(t *testing.T) {
	expected := []int32{1557381388,2030306239,2069101707,1115237096,155366873,138505197,1514132768,861519546,721736144,793537717,926467633,1066642340,1493404907,1486334875,464396072,267448938,2050457150,1167163727,276079259,1191987376,1040895607,2105237204,538293359,921068350,676773763,1217280919,1147678737,1900334336,1043092610,1856137529,2132264576,469829191,895840442,398612311,740075489,3471605,1703483869,137855784,1053646871,1626456627,982298085,1238605641,535164145,896390788,1787558288,96618019,263920297,195800519,1908590286,1926084357,574753370,988505016,986109752,815687263,557060436,1599627831,1492012880,1148033357,438463333,1085569601,1138310107,1761282079,1965910583,1013082262,808756788,456638442,170801898,1094792596,746259386,460924467,711448716,1912601366,113516856,797106279,209689291,1949773613,1570073059,1789386218,1280993709,580155744,953360622,951878218,2139227697,1264491900,1281384159,1143759560,1631203086,80153179,1989035522,1287931305,658942372,555450512,1846876098,2115560917,488146520,1368499653,1420178705,1669565530,87634000,1330919846,2073299768,1316611348,1597024780,1447665819,1214635641,809635651,874988160,189003473,605997972,754770470,29554772,1850110309,2014523295,2005791236,132208979,186431889,1769538029,701418683,1879181750,1812480875,972919003,90648719,1253240721,1605811728,1949465742,155998204,65725268,145439586,308959759,988673285,529594908,2047991176,1701752218,2097557510,654339623,1784232921,1502337085,691561878,49856259,471748508,268771400,1442199613,1621638854,1234265052,1258376533,956315710,688410864,1988568509,1983351938,301714631,1746445271,718760022,1937867427,422636772,358000843,1982651049,63370627,2138696699,1645683724,1058637437,743910383,729548574,2027527361,1764808334,225175562,129047243,148358091,2064449432,1351451613,495459705,831578451,1077976151,651562424,1407433242,1543709475,1678203037,616493512,18975669,347435195,993150032,1615070987,224640406,309571295,7245128,1389711661,1958318533,110123749,1279115446,1739556667,819172221,1720862294,1511124033,1193361801,1138702469,1875321772,1686706473,1562155899,2004314167,1009089490,1129329290,807957619,771445079,637116896,1487892233,1617619827,668469120,67197598,530434185,1026410944,827281453,1366157537,44394958,1791261504,652533692,1591050097,519269977,419977279,2020282233,375096673,414340676,18923494,1016726292,324892765,532279392,922081058,1467938065,2032097997,1660343602,1679595117,2004486649,116047138,759662992,1157369826,1365589552,185192413,843625908,1735007157,969162709,537108948,721242541,1891120935,1727173211,252704502,912275214,1600498331,1676467336,1867346176,540828109,1695136019,1356051795,1266729194,1689357313,1629217494,594748814,1110405796,1938714974,446552314,104837504,565811175,149681762,783854770,554337643,998322715,1169407942,711234315,606494545,1034508779,425671952,467341279,747424189,931746467,1598298217,1483173285,1801337779,670703388,439233930,764021790,1560101198,1079264708,1393097369,1748075536,1491269888,2112691230,323543322,737757455,574173472,1277929145,562621012,255183756,393961086,397073594,1630169653,403351534,387427186,2084871418,1336783292,728850496,1230780207,201040899,994003786,641958557,1441674224,73486830,947711830,424305328,1815914624,206184028,1975363362,2071529073,671171866,1174693184,1033934763,1173056443,1320197453,549089873,1440068529,589130060,674779393,431650487,137060843,1476049047,471887767,170488196,73380193,350350595,1449060461,1194946683,1095746099,1863950008,1481403743,1857867081,1680725230,1359060299,85260922,751138812,306401312,1417783058,1164979400,2046721641,1069326478,367989444,1450049430,638575586,1731495537,1366751549,1510622478,457113210,1230637728,1985820960,644802889,747653232,54071103,799129720,63980056,1665438386,170070790,1271186028,106637,597361235,1122728514,620967941,1257921576,111413354,590125330,960788432,1641451601,1822358111,1087795521,569058641,242688561,22285471,1571634307,775541399,1509807656,1916555046,25999617,1980795828,586476306,854112291,987211764,991947251,2111792602,1257408786,1219147119,733750511,1803795978,881595510,1295080243,567306183,581068022,1182698931,1417676421,567618165,923993127,448358537,1257551515,1338636076,48450256,770707105,1872783595,1835748014,1516801336,661579087,1743132399,622517418,1323502572,1426013351,1436805711,294908657,1639438769,336758609,684709722,1293477993,1757633118,130781263,656658986,512790,1039749882,2003858466,1304476101,759856091,527277868,520489338,2135474266,1207473277,752092697,1004016142,1999031919,1061449119,659003531,834847188,1932345572,1963252848,1128812343,1298947397,1622629562,1450213515,1661760034,596629701,1557731586,377782627,1592273446,1000171586,1075351061,244309413,497989209,124198428,957468694,793211864,1939183198,1257038725,298886194,192075437,1613714651,1112927504,1308470146,996311998,673588468,535659122,2017908368,319486430,1574465079,375356592,1783388773,804591581,551896684,868940521,164665650,458685721,655635348,1353929118,486236403,443120181,446126880,926693474,1315066292,1674589929,1592621924,1891164853,709484068,627894269,46547448,1205820055,1269749568,1549448453,535960994,1740270135,349538197,15884839,2137960898,626317564,776625047,1126100912,726204980,1238245156,950801195,1216916854,1364266460,270759480,1839896376,1776532335,2107016425,498782973,137576516,585254080,770802322,2003249660,1893432204,687021177,1945344859,1781363864,1551173721,929907262,1973658701,1390014099,272938982,368645024,1253090671,233940320,268630587,959110196,519402324,148780811,468208470,29317784,577304071,1507619138,1864398848,1355365371,2123375926,98149438,310323469,1321862444,51268477,1080435380,668361491,1695248122,1068243539,684495488,778646131,680194981,1994321578,1810000667,218023627,356597034,1222627490,1994201432,1299925858,1483674528,965306174,582156171,2111309830,1130326140,2128893,880786180,1257130011,1958235614,30574503,108258732,7950009,1410666831,138850812,538066833,711128898,1847195421,1471040395,229311277,878638785,893223321,721652608,725174507,1447885132,568595183,1602777836,1735919253,1112272265,856885304,2078240831,111611436,954173941,730586286,207693280,380724320,390059197,1541219755,134323255,1327480976,1319733551,1317965944,1970789016,857609524,1664673619,959984807,676545479,1515462947,541344169,1456254745,1098871769,518311853,1033040286,993316213,1115562647,406702537,762021920,240131667,1281754686,1542714647,1675031951,413693287,1915997562,400244707,2027478430,2066446714,1301568438,1424847370,1202973551,1905610139,148007636,1317392790,1712872166,143559419,1057061373,1708156488,1069917952,2011526731,1207984535,487900325,2039533351,87314889,1194575084,1803501167,1905497182,1559928978,1226054797,2108341375,1762507286,1948474390,1766186047,149927530,259465069,739092255,1799932672,906040264,1549452029,1570544309,977614741,1745710552,1805900016,1399181756,312489396,783217677,1308247109,1928962626,952923334,889480867,2083738487,1554889806,1484268232,897978836,1179630779,793854361,1650664943,1587717062,1366601850,112496395,642231172,467549452,840391917,1340710710,1809823731,1401982808,139424092,2145563753,1057927721,973779911,491110394,151021109,158704459,1646857290,1033911990,1609757630,829483956,640351595,1922309140,411357407,495254058,2124018203,607005644,336573930,24602888,207617480,464206158,868207211,1117780398,1613094355,1235910959,212215610,1686922061,1436955634,928313137,510065289,905318635,465189306,1736841672,1057990235,643793585,1310167003,871034905,2126627070,398370473,1932717378,1396185347,1984894589,2011550493,1717356796,2111854052,1010313348,1812891569,955244443,1764725984,665696616,2008027455,503817987,1316107822,1602206251,937776650,1418700528,1027783355,1592317013,1885352599,278894784,611582695,869232472,718544153,523846701,704438995,364294650,1050993570,864318905,1915047469,1332570702,1252983298,627862221,2085687104,239369157,958915780,626795216,1004140365,1547907249,1648723950,225597611,546807688,731677618,1819713297,262616521,649521481,401500648,1296565131,134635421,120213585,1372576704,282383648,1426201539,241274471,119475689,1321134683,526952875,1266350436,1487703792,1012917801,1747559402,2106803425,948572664,1187680621,432155282,1560196965,1380165234,565614530,1076738665,643290471,310981434,414560163,1627359753,2091076710,1659754988,1879570743,2027388724,1197002822,455927632,2021808867,302938347,1215213166,916358149,744105320,542470765,1050187054,1974265406,386587750,1966211415,1065718121,431962905,1507928427,1663920220,534989448,2048648195,266277833,1745718671,1691480644,1387558015,849903203,1416839894,1983369765,219826466,1638828597,1956715798,958016541,802507542,1482608476,729003130,387388593,1441229606,1477433700,810422804,1613378572,709979454,532346236,1190445276,204467344,645209856,1529451875,1733415206,993577484,746886762,11020544,211327566,950536654,898123590,1092370305,42428515,1393477155,133852072,335908080,1956928454,1753508076,604968973,467052229,995386700,1425013199,934873169,1731937871,247679512,491656930,1805068267,1578822822,1771972162,1102012852,697505623,50541648,1972493641,1516301959,1223316204,1541251327,1046270788,2005589787,1263971644,423262410,1236483003,208805922,1427501031,1006179144,59892951,1857620884,1440179961,1483009622,253536521,1105321526,1667988893,1204398375,1008409599,242927225,1684443183,1912915724,1417077822,1060755632,1281772363,1241758276,1335992864,1315547587,386532029,1256798361,253031031,847581942,1267360311,673610203,170160951,740084392,1437120939,2098822314,489536432,181706563,1378052873,786580778,2144995815,2076177672,1672044920,537542275,1198960616,322058645,1325286301,666650636,1581507606,1640590895,1189615696,1729566416,1979342423,1457884127,124173505,2132998803,723817424,22213368,1234753193,2068419063,1969757540,170702670,753148113,1359794656,590260573,766569758,1312848671,1660935776,1815684234,1716650226,714861943,826703036,1012357999,897862405,1915403556,1488383797,1536194359,744230088,42797660,1013934219,2137744933,1867365040,1822774402,759923783,1805449893,1685277542,841751427,859760471,615910887,1451605783,1375004890,467323064,1094437017,1457117457,964306885,1974293145,1323029559,312250264,2094765349,432390858,1156693621,1811834172,998450049,2012341027,925728952,362912660,717208417,1081480018,1689964218,783273355,596804444,2127070983,2126899355,220818974,2078157777,102392500,495411915,2140707977,1701828410,1052466678,2072301978,453088200,1045024889,364078451,341645336,247538879,1879749666,1702724189,2081039167,2088594058,165354238,1223944095,796948386,1757890449,2004724245,325910761,868914991,1957917022}
	NextIntSequenceTesting(t,652878545,expected)
}

func TestNextInt4(t *testing.T) {
	expected := []int32{826918747,1478321985,1982186429,1870170832,1476652359,1310850052,1731401691,1323138571,1073518162,1849426581,1428626611,399845774,1687509332,501267741,1929188318,1119688513,1725050496,1174823626,667871143,548887232,1020265628,212953570,220719739,1831555249,2037378767,954022446,1936380698,379274326,745577022,1772886382,777840424,1294571284,1328463097,627510503,1680523492,1701364446,1608555010,1036926581,250155422,876301166,1987244089,1634067184,826057259,1414328458,1332220604,1323749517,1898109656,1266864160,1478859234,1984642919,1580191879,1212686377,1718610762,1529460098,936443753,613965177,1257602246,150631180,1980275712,522629913,1521953001,1352127365,577561549,1448115427,1071586157,134055327,1218866324,1059998829,968227896,227823872,1658617150,688123915,924668204,1939053624,709126790,1533682091,1534379958,953874928,499334645,713629250,1203396437,669516538,1047898739,908417750,192694503,1712637694,1723444169,1946486646,1838550397,1066558315,443762200,1457923830,1204134516,1875009156,1501831812,635116724,1056505635,1525425479,342742301,1198165277}
	NextIntSequenceTesting(t,-625471333,expected)
	NextIntSequenceTesting(t,625471333,expected)
}

func TestNextDouble1(t *testing.T) {
	expected := []float64{0.7262432699679598,0.8173253595909687,0.7680226893946634,0.5581611914365372,0.2060331540210327,0.5588847946184151,0.9060270660119257,0.44217787331071584,0.9775497531413798,0.27370445768987034,0.29190628476995334,0.4673147003479836,0.6326590728166788,0.4695118784296847,0.9821512531406019,0.030366990729406004,0.8623701538249712,0.9953470812157481,0.6771811492169189,0.3145917930242567,0.8169079086822029,0.8480517830923441,0.9919021753556571,0.032625198379450104,0.6999419837724147,0.5262841426424143,0.934018658909024,0.6876202824933548,0.5468154342597422,0.081109949891041,0.18712457417842213,0.4533271852197718,0.2971718657282981,0.9885437791182398,0.6426974728902325,0.7629635882391425,0.03039429291635486,0.38100450689951165,0.3431418446559188,0.9574551656644117,0.5051292127487851,0.715972512362512,0.1189577291342233,0.2734514834701323,0.9070979500688138,0.7947655938541357,0.3371603392703274,0.4572087877696421,0.1468250402933103,0.22131473953896888,0.41007327959410533,0.7187268327543171,0.6198302836249724,0.4879680524989814,0.19491343674944409,0.8781914868756158,0.8254231842353117,0.7353974910152133,0.8582192076641224,0.6797490113786184,0.6248661357093911,0.21840678351857085,0.8953624390509736,0.8964398032503388,0.08657988351144823,0.8385790995501816,0.17014283461968546,0.644115293698439,0.8268144055394523,0.21918766490145944,0.9999726978130511,0.48136564692545947,0.6522052365598293,0.7197259835525072,0.8094625802754716,0.10093539631969081,0.7290940539581208,0.7184506918855248,0.12552724831063639,0.9051763899182791,0.18912380337208687,0.47680987113938195,0.5407952422000446,0.32550069472077336,0.6710366702969357,0.468397741424105,0.8334969015947994,0.8092038132293168,0.7936303423687957,0.7645059860146167,0.9375404040038308,0.2949968019011416,0.5227852992353892,0.6633928332773004,0.33258902995502065,0.2867224292302143,0.8206100733115385,0.2225179258838845,0.1868715999586841,0.06851885051863214}
	NextDoubleSequenceTesting(t,0,expected)
}

func TestNextDouble2(t *testing.T) {
	expected := []float64{0.6375657811935832,0.4507815071618098,0.6074969273095471,0.3577847109910961,0.7055333520777213,0.4669698208882333,0.8482151217051852,0.25491790625030075,0.16196158256473092,0.28588642658939883,0.48537585487839574,0.4734214178628388,0.7261409297241554,0.7880546747651206,0.103720729753245,0.7035398961526993,0.6510362558304501,0.6166964646506572,0.2646998042542021,0.6406621270071073,0.29207517499666436,0.3034292926562155,0.9068265128446866,0.46289220380731494,0.2966975459347933,0.9715483840422464,0.05438302785827919,0.6210059079439407,0.8517958046178314,0.9344413559578552,0.201299466752121,0.01453184057703793,0.11289279680368156,0.33068170087909404,0.5676225687226386,0.6389144191699635,0.06646823047961492,0.8750412272638833,0.7260241213841476,0.9687081952433606,0.727085557639173,0.6018082022675352,0.08860211078478122,0.01889550081402785,0.7707027824459145,0.043744552435234445,0.834641160366424,0.7520321881175192,0.8124454090429681,0.730144737628356,0.32471639584969564,0.25931926549380613,0.29006104371047625,0.003974223511281527,0.5368009552065287,0.33413648853736766,0.5439549943171232,0.1446047235022321,0.06108716505630275,0.7339849680354749,0.4125867930299541,0.22720921376124453,0.40312210163246937,0.22752022660687576,0.08458695983727786,0.4708440143013578,0.36052862105915723,0.39545922884506135,0.220432106042482,0.4648063105832815,0.6370716656730844,0.7759950285665668,0.8906723432665097,0.29599160901084154,0.9135765693679343,0.6902669727291293,0.2148271818714343,0.8879310120306588,0.6921894213614005,0.2529529934995589,0.13690722367582248,0.3023508397407601,0.8085604989009726,0.12165106698947542,0.6097249601081596,0.9419802012583148,0.7244707968665617,0.10891857329240003,0.7938807456725653,0.2334860801852709,0.09495942485284034,0.9218635069773828,0.8139540622075806,0.9920391533486728,0.5561214022134064,0.4998763438779285,0.19868610063506575,0.8610818841779054,0.93430854097675,0.2998587681445567}
	NextDoubleSequenceTesting(t,692535243,expected)
}

func TestNextDouble3(t *testing.T) {
	expected := []float64{0.8446891912467261,0.7539628864051602,0.3610128268417962,0.3472599663526099,0.9768835380565765,0.47739916643006686,0.1567883301325088,0.1350560547481552,0.2905822779473766,0.7383219598505283,0.5977302019473771,0.3465134074662409,0.7185562237717938,0.5210351201337926,0.7974932672444234,0.6628939037504112,0.5005745098463141,0.3831285724337811,0.9814294199372778,0.33903079402587877,0.2503770679470045,0.3833176658411127,0.5713513384439756,0.4804062957318529,0.16499072786652982,0.7857439298116341,0.360663565043669,0.9552564602136875,0.6060519365621972,0.8009549303916073,0.05670778875085888,0.4110173184475942,0.9627246740100555,0.28461790284356936,0.09564639772085771,0.8675138977670641,0.8853561956832913,0.13151993422374125,0.24815100023902534,0.9789480683295746,0.5579489565258609,0.43916531998625274,0.5208800693605468,0.6473283626359554,0.8069678949224613,0.28925190693198327,0.42873353670757897,0.283082907685583,0.7599742257781207,0.5521927962788347,0.8075122175773197,0.21910751295234426,0.8889889209014312,0.2083982076534993,0.43971961943419635,0.4613715254056135,0.18261154796118453,0.8806065311099432,0.18226923848608007,0.1911396082449423,0.1167356013863979,0.20153186991882133,0.5290041181859579,0.4896273475557693,0.6816141710996694,0.18671288349978293,0.3837887334561854,0.4339383209282245,0.42538872241293485,0.9299793694773593,0.77753770806712,0.3690545756225728,0.1349775721947558,0.002481351607703302,0.781081837500018,0.8112117479607518,0.8624375964805658,0.9240229758080202,0.6734384008093915,0.8757388209345466,0.35701039310405513,0.07758065735808604,0.1952822344355668,0.05385914028336254,0.9934427128142876,0.8376002757985146,0.522028397546163,0.7543264663565562,0.844898283409373,0.6342748723152443,0.6849023498058796,0.004749664573347971,0.9492506957376612,0.05701139199408302,0.8622124669431767,0.35641708660703947,0.9101612018002948,0.0312527218047775,0.965714191536286,0.6202550114226784,0.9054631734757979,0.9947952157793545,0.8576941852726481,0.8299948563007614,0.7746550882117148,0.43845764195474685,0.08412994075758845,0.8865075692937279,0.42731637015348134,0.6285078714734446,0.5989339289250476,0.25858857215316433,0.2071681303005517,0.30653041755153354,0.8341292151408872,0.03915494402831185,0.006249635483254509,0.4751449779025954,0.49618463474148167,0.8440138953011548,0.66468448595362,0.6294622670996293,0.5890400375188515,0.7911138500976906,0.2450770196714797,0.772788043493772,0.41980387988491163,0.0779661802006728,0.1402688846645266,0.4246647508929785,0.901050546160457,0.8311848746757884,0.9583087842717342,0.05318338938671322,0.9702756474587487,0.3622151773247007,0.21988647208543796,0.36528737813480544,0.2792040520716477,0.5549850708595407,0.7534703350409262,0.6355208282524352,0.32701009620307486,0.21639041193592848,0.03534094339019663,0.4263137776527152,0.7975815342727962,0.6427202781861276,0.22288217685319583,0.8230575229148648,0.35016745112378495,0.4350162238976994,0.5350680870632958,0.12170029623513123,0.9555705254690584,0.27600090637616853,0.40575517826050295,0.06658033517495744,0.5849178366292817,0.001867044717942851,0.01865376206983522,0.006163760556915664,0.7462386846292013,0.0026516192605028016,0.7274573253129876,0.7677490542492592,0.3002797878814301,0.15398474091383849,0.33625477009278476,0.47191403781618646,0.8192684719428739,0.6409622573484491,0.19594092583094766,0.9411995638819409,0.09054356026022861,0.029163657701184814,0.30245217089655446,0.372649625582923,0.755772906707494,0.8187632420187645,0.9752065092209757,0.777083601698784,0.8550840033474769,0.3172113617496618,0.07449729976919355,0.4660343222627576,0.2961167876124926,0.8366084880366029,0.09761286391765478,0.6942747410825801,0.9564599990641978,0.1533061369104805,0.7803695415055237,0.27733700735370487,0.5363313087897056,0.7473065744840105,0.8892821436232339,0.324358476942572,0.4889330866229409,0.2675918891409374,0.12603398977128508,0.6435967933589578,0.3064655080933429,0.7509681390370094,0.0037890509719909404,0.7092051937753359,0.2390752980667517,0.5938685231813549,0.03115673597490263,0.9264068677678736,0.9735487354796141,0.03310555267757995,0.31080742846746345,0.7661545946105172,0.02666053549696716,0.24157016037105125,0.15107975720943873,0.4290273228795395,0.9281543194913092,0.26142300305023,0.4716322666367666,0.4636712998448272,0.05637187699618371,0.6419800290102046,0.5154540387519887,0.6659623350323933,0.8605927158429253,0.9186039184772428,0.4048682550922354,0.34323698577621814,0.13988151407795096,0.9780936939539824,0.8837165389599821,0.4881810175665566,0.6927292522474794,0.33160971586201793,0.4706180936054411,0.10411586431046756,0.31342231077767085,0.36529210599385764,0.22695902419600592,0.7022482644311377,0.8054517520617004,0.17120599614978116,0.7207260056029661,0.9233544463866178,0.8424987084430171,0.014214946895006554,0.25067647185673775,0.2947611484186543,0.5962268172745718,0.46025482074369434,0.39620415745126275,0.2275100835727109,0.7959596225041708,0.6623626899264579,0.5872249163627741,0.6644854790831383,0.2355141002850207,0.33782671593959757,0.8486124779324106,0.32047137958950894,0.18900026808911946,0.6879197501986846,0.7865253536899226,0.9954550415256317,0.14938901371759783,0.8226264109009068,0.0734253423630378,0.6950508196349492,0.7709520667656101,0.04696389289897117,0.11560501210186865,0.5628622134974516,0.03446397885422407,0.7693840022056289,0.6582195477831269,0.8851658808464026,0.9212540234072385,0.5920995923653709,0.8234636265893763,0.8463777689479188,0.6679274466205051,0.1101071066735811,0.7470101685016464,0.6796266933342566,0.5818895365027197,0.6562064553872712,0.6922213950623858,0.030366562321021483,0.7443847994992439,0.8061326145223028,0.8686017640254469,0.9755955948380733,0.5166796280614471,0.906487644606497,0.5132479963420182,0.11753200186301582,0.3846806424598585,0.7252709640773344,0.77396543266902,0.019872297542110225,0.9407896045319688,0.5556256522217885,0.5238090816530442,0.5492629243756006,0.3446498086418257,0.8333419439538111,0.19304610471848682,0.026575620298541904,0.004143142143331068,0.7020590355163715,0.7432314556758998,0.6434145079196498,0.5143630893502212,0.0022347089844917453,0.6525439329690039,0.07889316141553836,0.9409095816970382,0.10689866035566603,0.41356550502291206,0.4931825583303266,0.13040501583852107,0.04305878004201631,0.9506660201357053,0.9648194522433073,0.17836212887352432,0.14000941726379534,0.04618258543600449,0.1279763342477271,0.2561360058636107,0.540687545920111,0.500485238386544,0.19598305932990417,0.8181341596963508,0.803591329047266,0.90558816441595,0.11230179439871656,0.586298025020537,0.19774724412604572,0.3349768846924309,0.7485475925489085,0.4631603506687844,0.6656457747638439,0.026223420177690415,0.04232576398287237,0.06290115884640309,0.225187256105797,0.46123250548785205,0.5144449190769553,0.2539437116374931,0.43435483492647986,0.17662242016597762,0.27778198210419247,0.3117054590544223,0.28078287433869337,0.8894672817035891,0.8977308244899525,0.6049596320860832,0.5589896294097367,0.3709007955020763,0.20464039137803036,0.7871593585178067,0.06506977047075972,0.7704396144349313,0.46345559622322,0.20157379712982745,0.5472483963459955,0.825280348223299,0.7107717603029552,0.09664654456854171,0.5402421385702874,0.4925951363950014,0.7431623375709925,0.7719217756632352,0.6650179124740035,0.030022207661542205,0.4647592410746772,0.016835359864325897,0.908340256152833,0.9019182933969043,0.9531748727677273,0.6787769117759433,0.5317376663590491,0.8740326226102341,0.8217811709371308,0.3640651257541334,0.22270325628235157,0.8842776002754819,0.5373512853576575,0.9141240473436769,0.007857339925997584,0.5073421623126334,0.027308395610800198,0.8268464486239694,0.13033649331440056,0.9613882340311019,0.3980905801980247,0.8952061603289126,0.5627678239544703,0.8407519668530449,0.5156527625004075,0.39990690788249805,0.7504607451848969,0.4177983745084137,0.7137015730672057,0.9417596985314785,0.4334600825949852,0.5058602064409573,0.6466875465804187,0.2507606666771512,0.42470804062891193,0.8808954646256265,0.6966193759332501,0.6570713360128325,0.417725922734349,0.525863479602087,0.25542169215875754,0.1910371478605257,0.9486584434978005,0.09939047046908665,0.9788705408474759,0.6629707960705137,0.28792906286564146,0.7966477129592783,0.08878920464254413,0.032899976257653896,0.4652867407842012,0.916315888947023,0.6415852823488346,0.7036296784429018,0.6319316274635175,0.5695530807457646,0.45406753590985555,0.06758828929978809,0.38626553089649673,0.5532679648852292,0.9283161665910464,0.11393929185063545,0.16033104954302826,0.8800214724056523,0.9306050431591482,0.7168430498413942,0.23759005369506314,0.2865906186805063,0.489416006714765,0.12696187530037104,0.8107227863793833,0.3702370595979677,0.40912052588962045,0.6044730137123135,0.7059665418723442,0.20705343233749895,0.9465477168311122,0.4633773534853837,0.861881426005569,0.8526819664298938,0.1119778450168566,0.9538130322256186,0.32900916986586953,0.6808015968095519,0.4764729577472773,0.5171441936479622,0.8642749240921228,0.9430578681375169,0.6188290392136336,0.8551549598831474,0.426827928715771,0.6290310866334621,0.2708058051163358,0.8644579578491197,0.5975473130110406,0.14148240030812212,0.030706098317497457,0.06863697109214821,0.16878542730993845,0.2620274910060817,0.42538074237545054,0.0013384441851351616,0.30723170624451324,0.9618273293421731,0.2221771898782706,0.0950496811862335,0.5071953630574026,0.037112268636521076,0.9976631365705575,0.4248781951260186,0.6230053639146524,0.9906901824244718,0.20570686329421906,0.5335835644666029,0.44129011986837263,0.9745031343654278,0.784930121984766,0.4795294527334764,0.40354851465837493,0.41346084951118606,0.8525681257492714,0.2945321855575462,0.6677615794668726,0.6342610468316177,0.7001339465846,0.18169169974592128,0.09943125448163191,0.5446625680405006,0.006925700701272907,0.5644841415642221,0.1763473340200015,0.877910745738964,0.2945919261754453,0.5998539349994874,0.42730122405444326,0.11063940083172144,0.6465813259811054,0.36718184052369646,0.45862440693128126,0.3814232765610438,0.009948830590559557,0.8271626554556017,0.9453947315669594,0.19395084408761507,0.23214959596849494,0.43613774629129926,0.42332422333924297,0.7372222406497329,0.42316783798074714,0.6230441786456128,0.3565522783233562,0.551176645584021,0.6650884564337732,0.7553245777987524,0.40945936525681026,0.13084855681790436,0.33357686471826253,0.6729706594128957,0.2616933827575731,0.040485490132349304,0.9956184267046015,0.9625327950169019,0.03018656793524817,0.43317899500633544,0.24853086110601708,0.7450946181756885,0.6960982562490265,0.6058529282947317,0.10628234041215961,0.33065071903665116,0.3279218083843225,0.4177482814610695,0.020905045802195113,0.02212523809733113,0.4035120189206265,0.025405470293669713,0.34913745399058677,0.4738107353792576,0.40211145086312267,0.2639962002933008,0.7583674764066783,0.362209013831899,0.12149473005975352,0.3838815220556602,0.20793186324086593,0.6251706884359804,0.2128222893051907,0.5392673483766929,0.19039456974267707,0.2964526672365389,0.777062536113459,0.9736106665682097,0.10548845776612333,0.41813891679893195,0.38580484985644226,0.04741603557365762,0.7969760875203535,0.512215736560624,0.945419982981598,0.48705497779280643,0.7400394900422728,0.8174712950445112,0.6309399002375733,0.09251711894409596,0.2951223702612903,0.9388039968622867,0.5302715997818259,0.6429632183364421,0.3518125588781259,0.3840538949631406,0.7817111028273176,0.859766129339005,0.27085920854977297,0.9976971824642723,0.28211801372567097,0.6334094128727026,0.8410380649571484,0.646305045879588,0.2252471317654695,0.6233601726700366,0.5322723288704978,0.1568309078723336,0.41545835855205465,0.8098296731756207,0.5535881829231922,0.35431114181611273,0.31225982369494615,0.6027661290032631,0.6363203882408889,0.3560959833469689,0.22842938277331618,0.8369217174299628,0.5283907523976595,0.9150564730703162,0.5239567102510281,0.9408961813621671,0.7312691135943258,0.028977611115657543,0.08875915179436987,0.2691278663785792,0.09489908865415449,0.5698590709687485,0.187454789498567,0.8063406747795365,0.5147415644092214,0.917296406774454,0.7027514580184367,0.107791275301851,0.13602090307326098,0.7523954369837397,0.2063779706165092,0.15067104164076553,0.28696860479515446,0.3220598103115614,0.9547826489223087,0.5832085821699391,0.40201293649245656,0.8211102270619526,0.5389289360209037,0.9408112284451775,0.6265441731673406,0.9275054707785628,0.006642830095553226,0.995716575531157,0.15562451218982437,0.9447893853973548,0.33137537694134533,0.35580273547945673,0.4737404722132443,0.3412218323635039,0.9021402992783768,0.8120604538414908,0.5575458940852182,0.9561192653868903,0.5284610840158821,0.9624132579017493,0.9693761183737666,0.6091176837725182,0.29508810876639935,0.6362917761487382,0.6515596837976759,0.20446854839309517,0.46674522593000217,0.8839249512571492,0.14971801273045968,0.07775834113255066,0.5499531126348084,0.20633094208609823,0.9602738241480075,0.940748128081089,0.5388832448697105,0.9101588865323732,0.4900486750947538,0.14794792334919232,0.6425836932112386,0.16739361787559168,0.5632162408731953,0.19173821396741,0.6507161625897121,0.5699521790118666,0.5859210298331087,0.34694872253898007,0.6340508030886067,0.7947990707097571,0.850255137705363,0.3943175167750183,0.5931251475555473,0.33084933940826416,0.7935987262956792,0.9923693910205594,0.6138324637961725,0.7928952527199384,0.5260221182955532,0.9026371598721655,0.2892515446475016,0.4220756247742454,0.46076024484856065,0.12271787883840403,0.8459985628006973,0.07786617105727371,0.39483627276254646,0.1250444348552471,0.39552891133144913,0.5329923441321553,0.8023385874937934,0.9919814127460036,0.3220117787467371,0.40959797073602583,0.3135355721756516,0.36106746614029045,0.39919701702855387,0.7776379044063566,0.958401521182806,0.7251359297545329,0.05037074631562957,0.3046109612586959,0.5704177453044884,0.671946155220245,0.03366981355178627,0.7554004959554413,0.4846331935770033,0.21910377322654415,0.412732215790419,0.9679044331274481,0.3269156642849164,0.7459879921497721,0.38413676823682,0.5874115152225883,0.8586963787016908,0.2205080684369933,0.706633373027031,0.4404983620347913,0.3457396511667127,0.5728499915324384,0.17511590624932008,0.46087659497786154,0.9514198112075309,0.10105845895645137,0.9924604832159637,0.8582737249593594,0.07230573802828125,0.18352717681952155,0.017313767232612597,0.43253126015538873,0.5931723739920055,0.8361945593898159,0.8344937315371324,0.8008861885410203,0.8522664135565359,0.9846405833888057,0.8516578794697569,0.7888140896283156,0.08904806528661775,0.09059806684525594,0.5932329774802704,0.17573249953600228,0.7123122190648281,0.42762447820400096,0.2060766798472389,0.05635059534402126,0.6078446445091835,0.7346002635241488,0.5509015920343351,0.09302750373865827,0.6544340931132595,0.9586986549937626,0.43189825323964387,0.3855515296503676,0.5500200235052127,0.5894941513377681,0.35319115005116497,0.4693592863480371,0.6794856720042813,0.1753960885924269,0.6830947579271601,0.3011060167574817,0.20179000599393157,0.9802009556350303,0.3747320591354426,0.4907211048951005,0.9114942606126397,0.5832505796957996,0.7351451016660524,0.8740557953128851,0.3688501889672364,0.9178192833987154,0.3514502967481736,0.2551415843214568,0.9796170140521681,0.9993834067133178,0.7485643759130335,0.52379533300353,0.8949817791092125,0.9361098878719424,0.2504290804501758,0.3377054745041325,0.6326255847851865,0.9242862634939544,0.7780971670421293,0.634473718998243,0.40429630615017204,0.4489422018867648,0.2508661650358076,0.2627722622187679,0.6314494333376407,0.3822985931217198,0.10932841762403418,0.9136519766941908,0.40750330891809583,0.2921269607227887,0.9739424935420707,0.7321112634297978,0.052892419068558336,0.7153555749521384,0.14485633473138154,0.024594064813383887,0.9994551618580964,0.67684579672145,0.7241773147714219,0.736614809714544,0.607248358245589,0.17675666891818712,0.4059345155981996,0.5506366167918949,0.8409297754247346,0.829395817047635,0.5743775072388246,0.743375784132339,0.9249670081422511,0.3453892834230276,0.6684804319722952,0.2775037424999772,0.20210378859290098,0.7402583401371997,0.08642479874492846,0.4625520587258749,0.3323844146599921,0.47237283944728453,0.2426063619752444,0.9865515958455165,0.8084908657746812,0.43779832005398267,0.847638275403361,0.6874900533293793,0.025440913171247075,0.016453112483235593,0.47090291393497163,0.1796262041570741,0.7912535531405609,0.22583501563679195,0.33825031264603617,0.9557797880637365,0.20010894872253246,0.041482357327585276,0.027225360752653964,0.22753963723198495,0.04300768628856525,0.7002295482439127,0.4218424867940333,0.8020536162900057,0.8079210858828952,0.3659526334916952,0.9886849685519398,0.062114025495068184,0.6236465287504934,0.6964387510420935,0.5300074748368968,0.3126340789313587,0.6289307762072099,0.6823042760055067,0.6922096501533919,0.5270823224108118,0.4342394347462055,0.7376257189259053,0.9281239439398627,0.1694500381916063,0.32911839351482614,0.7184444622688202,0.5251957036206478,0.824476662941499,0.35849290311266335,0.39475130308175055,0.9521222309917781,0.6991319925054591,0.00713897077699144,0.7127006439085587,0.07739479377744476,0.1606214312653157,0.7130329793845457,0.8588851615129435,0.41954437243730963,0.6321548664160794,0.0505303526532512,0.4405527456852387,0.1786305099626214,0.44253823228298605,0.4491133515020429,0.7855242499082928,0.06384352457888588,0.32900216212915356,0.48644563764633875,0.15826883500361294,0.5506954279498641,0.10894927713505424,0.5336253654834001,0.8111679902352243,0.521540353317531,0.4624832297966272,0.11335841338772253,0.8577753225610476,0.8984212437171588,0.324563224019745,0.1750338446232648,0.5973658238525343,0.4435607131773423,0.41316978280114464,0.41383040249991715,0.28955297604648067,0.05497505471807674,0.9109458848419347,0.6190439572646488,0.36938604357158117,0.599601099546813,0.7700456146942664,0.262759903568197,0.060054783737312434,0.47655196975756065,0.9936866890609668,0.5589952089632839,0.4855857116568767,0.7203366866895634,0.5435941436065334,0.6546009376899343,0.1961935414914943,0.33803102529516027,0.2002240681090504,0.8440558751318864,0.8431729538567239,0.16550662702205898,0.19597098054176706,0.1911602905910277,0.6149115639808176,0.047263017877593176,0.8552576568234981,0.9604639177957848,0.09498114841756464,0.4571210217928146,0.4531645288007169,0.9969920325078965,0.7654607271614767,0.02870782978306889,0.1595603754555622,0.730549195190216,0.15289763973695117,0.7099582048645049,0.11705959407475758,0.5586677354567999,0.7806498132555978,0.8461893735668572,0.4735705817460877,0.33461602047766376,0.5278536642565642,0.9034880208333432,0.6277727017308459,0.13743863587148425,0.3548271001106254,0.6699622863298106,0.9788403031317705,0.25933479855737407,0.24333664506829186,0.5691139076692583,0.5706574486431933,0.1240463490244217,0.8590040741763096,0.719785594250907,0.004132393283831139,0.322123025693988,0.744343442723315,0.8095816968984817,0.16777875515063234,0.6029337619444978,0.023387440956843756,0.9966946565530703,0.7935344818018072,0.4568778818738078,0.5607763112340012,0.8130449484163174,0.5017032979529832,0.4862353366269895,0.22097143122040266,0.6415563326522504,0.06340606187628864,0.9969835802898666,0.6919360452759713,0.8613549600641034,0.6633066263344636,0.7114235431474744,0.41949031614674737,0.7178190209520138,0.6056368176851593,0.425018862087754,0.4782807186610441,0.1938297302433428}
	NextDoubleSequenceTesting(t, 603722093,expected)
}

func TestNextCeiling(t *testing.T) {
	r := NewRandom(1595360865)
	expected := []int32{425493122,187503312,431386576,453002099,261199580,171194491,264313686,134171226,80835102,185061070,303862547,23080615,259436856,419114795,77122756,172214399,301713401,344750860,321715103,214484966,297676991,425749513,245995598,126714713,256723031,222159698,127717155,112850838,377277229,170918396,206892198,14428905,115854157,289764237,284958344,223528377,313906220,41174844,464064900,281649457,147737849,290131891,77094315,179872230,90911577,122447965,337146733,5704338,303265604,182544790,139167038,58904659,44282604,29148326,295860455,489426787,431190891,304671863,196279067,39039882,43477336,151462847,246577174,399599883,467852049,289433641,396909636,459355796,134156451,343277557,347991357,260538557,370369137,40065645,66747116,7545100,348655197,66123368,35803135,134275066,374696142,122012817,299268412,194732438,31751358,147987539,459829479,86705830,483586959,285214734,282020663,9234357,334578954,425025018,238172121,485958179,43554716,167177609,201703358,291161113,215221507,367474115,361231065,449671224,324236611,368311659,178218699,4216958,452084388,288315355,140771589,365067523,268868727,62004001,154026918,411147696,341877613,51844736,367848525,319864510,319287340,310203805,465452015,338624894,61256894,338757000,415642780,435027297,291576701,70472114,453673562,181477587,354103187,234325200,408736736,7222027,250464929,339280365,360179005,153122877,459452017,455612520,124304620,195271604,144443145,406636318,230048808,272574953,270998099,316707602,144080566,481393158,289012262,371522026,461556951,394700879,391705277,22606170,388414330,475162789,442352056,232874579,202323434,381612273,324324971,448977179,10964335,34543527,142950442,146804891,160682767,2597248,181348908,214725648,350095671,353357997,185899185,270180411,194181749,144303754,108708192,143067827,164029198,464552276,416074726,461963581,382148503,472264339,262451426,14035857,105199927,227858758,440549212,374699394,200453998,226577437,253289086,232375525,360629810,185149143,395671982,195505280,129624510,124193208,156024835,141483317,300044249,74286613,21426354,108198953,208801694,121524866,318107599,244110576,366454597,299284228,68845381,227454335,455220724,352044567,66828676,28383173,261775278,128914585,41604964,422507186,51731213,296332692,14271649,123518233,100068911,443206837,399233778,9032605,238314949,402886089,13443316,39835990,308527441,274591409,161919331,307861889,450837984,154252472,294917340,473358238,399434337,196438636,8244796,390852947,157732055,25834750,266837978,8585243,118320466,367288808,423413180,709925,82588243,223200827,89752103,3711557,60014964,387591299,8130042,255278034,211974266,309074993,5795626,453251686,285840911,29009391,408610072,180629315,190125235,248649964,67228366,107522805,323680422,57929904,23072848,344975755,288087895,113101879,455469355,74234160,176368859,390648534,380395317,360709318,469156086,12733391,446930924,85326613,184839305,158207774,247846925,63246685,146122430,39639305,261383971,90359343,190643009,44676288,105012036,128722664,106907855,86208663,308143185,359353680,300060442,315890374,166712680,24658339,200127978,234459525,205306839,436596262,421805121,423579059,78909175,311008909,418362854,134769485,473778777,273107520,71761644,323283459,485473187,31917460,803038,3981681,451083553,284041116,286229110,422396683,154332746,243411607,8089843,326746691,457009483,90160195,82505349,21041636,60648876,153265711,335703888,422272584,374881812,440062957,442584113,300933841,131124742,212226548,450413308,440058240,161679667,55873523,60580689,321587693,56961019,273307574,90418654,276225724,358550641,296078760,354489999,372354741,228112407,267414473,80126779,451578410,428506418,95058430,456252754,478432158,228503560,397321218,74120609,320513065,427086810,139172237,438084824,45410229,79016525,189552375,362540117,238857005,323310986,335854048,260717016,98459222,182830918,176185328,269785671,183701908,489424719,295962802,152174173,254253293,288458890,453032324,194160177,107467338,359936177,480688880,362110601,36066311,245656971,461664327,211554679,254041626,471436092,229750801,384184060,407471959,324905928,45008424,197209199,168998266,423221821,115632993,49043754,381941536,6697457,471350735,268747492,252321089,314955936,272550846,478690617,422223936,245147044,309550493,32054175,463737663,434695238,330617485,175157230,88010822,317124952,326473805,482883211,351329837,124299368,6675389,116706307,442763294,281684445,351996890,348479158,444416294,98753602,472859084,320714650,172825896,403988569,301901818,100769880,378268620,211941388,109789511,210793553,462789303,472656888,279013921,8894581,161885598,197696626,410129575,462459899,483971620,359534372,109198376,341556492,96748016,122432959,187397095,257642168,22068,354644427,315667375,460319822,452642223,413754866,34274322,323470333,261971138,478519021,348911456,59749094,132793419,229847604,286571787,365752612,207335440,115680251,20093908,368356126,334968625}
	for i,v := range expected{
		rng, _ := r.NextCeiling(489683178)
		if rng != v {
			t.Errorf("numbers do not match on index %d: Got %d while expecting %d", i, rng, v)
		}
	}
}

func TestNextRange1(t *testing.T) {
	expected := []int32{1318219090,1392813457,1329145772,1319383633,1093991566,1238626224,1416925013,1194901834,1060550837,1460829650,1061180304,1288090093,1170745929,1286497770,1183526666,1116851771,1496315188,1435950184,1264699323,1275026016,1131308866,1175266865,1375710872,1339785683,1239851725,1323218478,1415487004,1071589254,1359443679,1079452639,1154196735,1057010517,1122901941,1254438037,1115661523,1189335346,1467638439,1193473419,1229305443,1105213657,1477304032,1485788298,1415970559,1194811049,1447087415,1403451420,1527237128,1331249896,1400752420,1183236990,1360913920,1284007968,1329218283,1491984496,1197097380,1196645391,1070795752,1517506092,1133225074,1298919091,1351285223,1399028926,1363604158,1509244201,1360326082,1057862954,1218881319,1444453895,1224529414,1522337323,1177359335,1356534936,1260337907,1213178833,1325867988,1173666572,1287442310,1234592989,1420844272,1364546309,1324127353,1137930275,1198982838,1229899855,1246684722,1398334770,1255938237,1159063448,1111033824,1447162135,1172232761,1478278351,1113941511,1458532355,1282074437,1131968272,1175877306,1434872361,1362630971,1442917627,1238263267,1136476399,1160413649,1406561100,1059570822,1058072151,1077363227,1169732617,1219809674,1077123974,1437349085,1364348766,1150354986,1296824769,1502937742,1267048115,1253739255,1187397469,1316252645,1490137315,1330070721,1113511037,1387113238,1305513282,1403797729,1227226987,1296286592,1329951556,1459250399,1247592882,1525935270,1380715952,1400108022,1506072648,1179976208,1241344121,1505662630,1320567741,1224022200,1242305738,1374664710,1139898786,1467399777,1087603016,1063506217,1336029999,1381616531,1345262746,1483740617,1068719489,1406375021,1516625840,1172312882,1400639660,1166540073,1178445397,1277509165,1383046370,1056456538,1360489838,1289931562,1275557675,1238628222,1500362796,1079334708,1110326299,1492386748,1172428342,1170541727,1315286788,1289531489,1461317517,1491521273,1127640073,1169165771,1243865101,1174257263,1353203388,1295700232,1121460897,1373756459,1479169849,1374356942,1444224077,1369363865,1063002596,1262096237,1527614366,1393225742,1055223978,1491980960,1176309426,1317804370,1391678366,1480520180,1152800202,1429416568,1495182985,1061961475,1481325921,1371789254,1262881356,1228414185,1222146996,1307334003,1473203507,1078797734,1098365975,1285167055,1450820975,1057881301,1452451780,1141039305,1463141644,1514879382,1338907716,1429346736,1322550148,1184692097,1070025279,1376376066,1492918386,1307348604,1169010916,1351451832,1166915230,1197206314,1153536073,1175265897,1070058736,1342594536,1207220281,1344935080,1342520314,1277817646,1164568270,1304448831,1205903112,1190583240,1424306361,1512350866,1217423428,1296140477,1470550770,1525488680,1093222346,1088963288,1382808729,1404944987,1195305630,1251599469,1160559586,1364184055,1520082200,1158643022,1407016872,1483678756,1113096436,1398841168,1194111940,1329690360,1453407664,1451246081,1268801485,1161919605,1378807023,1161209867,1326664994,1239017165,1404004279,1088152052,1277136790,1185660075,1288531739,1085820417,1212645804,1250471075,1364943837,1171668239,1311922652,1131645109,1342543588,1276737089,1508106271,1346605270,1235728117,1371182230,1352998884,1237570459,1398946777,1209035517,1245045561,1335207948,1524617304,1148309168,1112636368,1294323350,1081032158,1362324331,1200374824,1460158482,1290444297,1197484731,1054633875,1160846744,1502608683,1503045515,1129345483,1487954949,1474143221,1210238964,1172428085,1469574200,1140611682,1116159998,1515292776,1230363741,1471285814,1450342219,1454337492,1061317960,1336356987,1142787702,1368216391,1248661928,1371252494,1470074846,1189188774,1193915738,1501330052,1446468458,1223132083,1056312673,1499439419,1379910173,1369346815,1198752024,1275796381,1400952693,1372142591,1260828605,1295529914,1393189938,1291573241,1242400980,1090300598,1303617364,1248289432,1462150472,1161162396,1410418630,1351183540,1158835943,1436132842,1192750031,1177494662,1201349761,1357414343,1334117951,1317740254,1086227004,1367549907,1463575749,1514770901,1081367930,1515252885,1169808579,1498280785,1288847512,1274959186,1370233919,1482713364,1124026288,1131892795,1247202053,1293934050,1471313053,1379360465,1179508578,1212054497,1121328296,1275478580,1255184306,1086446508,1144604588,1148978084,1117989306,1148325834,1360382555,1256108678,1221690221,1369483684,1469824434,1136905606,1339608754,1421424702,1360100169,1406565040,1263898478,1255294099,1448638023,1333482583,1487587923,1240884453,1319074481,1455851270,1280850418,1080636315,1242623955,1426961984,1234327613,1350135300,1231598932,1175756620,1250105124,1338894427,1166058768,1430822407,1423859479,1460535849,1450956745,1075175911,1191591397,1086432001,1106962132,1054443401,1066582097,1515266686,1320430045,1353923355,1461979884,1118441179,1169155153,1452360482,1291562477,1315991717,1316036660,1067993019,1295518031,1216899322,1396273669,1091046158,1433847883,1461566574,1075474232,1399700925,1191577918,1347760980,1414946485,1054407493,1309059100,1457423765,1510851565,1331508632,1332483357,1427155278,1195584352,1454849089,1187615488,1318324246,1442962339,1293729736,1288352274,1416846603,1493128104,1169579601,1234673313,1307384453,1412340146,1462259410,1076550933,1151758915,1188997542,1260653323,1117955346,1413603753,1169474032,1258170827,1064650936,1235407210,1391011487,1246967121,1154013367,1319715718,1098557422,1058249286,1135735617,1365792525,1173570292,1392553203,1174100531,1389333575,1408523535,1505339789,1302082986,1156237099,1330839888,1070694446,1496584474,1434040635}
	NextRangeSequenceTesting(t,467362586,1053693167,1528146004,expected)
}

func TestNextRange2(t *testing.T) {
	expected := []int32{160329360,-168907784,-939245844,1255448292,1521160165,870569389,1515267272,-1745516327,-1129872121,-626620234,-578293535,-161370432,615585665,-1431480002,-1478664165,-90652024,-724990414,-1464052194,589543488,-1236823432,900467670,-947148466,1375497384,1062395640,-1212981225,-850690125,-649406048,1061382873,164129146,-759540908,-1115624881,-956736978,-192621432,-1226148747,-1744605210,-1268977219,-1736513774,1256042754,687769009,-1083357487,-558713837,-92926796,1404204099,-921325475,-795282574,204782547,-497807286,-856389869,1487510926,-590861937,-834669995,-25339451,-140462567,-1418180760,943379830,1055012008,-1810264624,296603996,-371326860,1079430974,487718658,686513117,-742803486,1197910506,1301597148,-1544091501,610218992,1509490861,988722759,61593479,806054281,-513544730,1311603499,1355238351,1336070668,393746947,29426749,-1301928459,431268297,1059773172,-1174430957,121178614,-275082877,-176023091,-1803445989,128675478,-544993985,93688841,-1078873323,711730533,-1645792690,1413112772,-240228201,-1086666002,1209151043,-25179209,262092506,1360813210,-628540164,524219185,1065711240,278981246,-861485219,478935677,-848599038,-272584887,-456965114,396282901,-98771123,212182682,-961459522,1021390810,-1452875583,1432713006,400742728,-1218665982,900173336,1366714646,-659695893,1273145098,-1578407628,-928538342,-600478767,-1472268264,-1126616521,-1127665220,-1386132630,-697237121,-1320674820,278692577,197585158,-1084497215,-345262597,-1324071572,-478001771,-1399251793,-69227669,-1822901143,973728900,472909769,-802580169,1112847175,1440511057,1311794512,-751015437,1200421371,-1226045900,-1343701608,54110310,1409166133,-70114157,-1728768250,-297832400,-745019470,769590870,-1693096628,-555876807,-1573450550,-630006339,1451456101,874407630,-366903386,-107865530,673826032,830575839,-1305923153,1075165078,1520201389,-1572581068,-801044803,-1621048578,755459584,510174021,612213975,-1399070163,742729241,910647079,-471225726,-416464655,1107082874,-1771336388,1312636074,-1534662038,406522861,239760686,-1079248772,1007769076,-138472497,8718198,695913831,870116100,-1314775455,-1244617788,632335372,-765256954,1425941339,-543728423,727393781,787303255,-165162141,-849392038,191479803,1116004529,-740908888,-77943651,-694171330,-1077935632,-876742955,219779930,1041007585,482935469,-663343440,-1522472348,-258660485,1442701282,918521777,-611123333,1290209066,1302274805,-1022699541,-639530167,-1226518677,-552159133,-543989840,1394811924,-1403894729,-932208158,-449149176,629476409,-431565661,-396710849,229207464,492223248,852249714,-1180654237,-59536361,-25573671,-1623899084,1534810691,-836489758,-1022539728,558771404,337339647,-892688230,-1423886278,485001309,752365652,-621554206,-268400628,1507633010,647500044,109580015,795360763,-1638944922,-1747415406,-1450808777,-361559822,636141501,873898485,-1346863857,1479968244,1284395433,-528432994,1500852096,-1796406992,-140067050,1481386167,340379210,110015282,1162685182,-1455599536,-961975036,-643174754,-457696404,-265058276,978306121,1412820446,1311078811,1162857092,-281963229,-581181615,221221500,31864046,-1056627862,68463861,-1318269334,39833068,-1697673254,-1256290570,-552702218,-1058729676,-917374542,1438732686,-865687473,-1345908288,57774440,-181442955,1177505852,-94992697,785194233,-679753350,-1812240186,-1378381788,-277218375,-732093301,-1248350202,470207092,329411274,-1648343829,536988243,1523982516,1256221233,608904594,658067948,1342027268,1019713537,-1219324385,-221504698,-1597301796,1224755613,1088856999,-714744979,-662794570,154080346,982314424,-1030931268,-1380622595,-1627079046,-1496902447,-240643712,1017908736,-768629189,617813498,-1728408021,-1268406749,757907036,1290885283,-1080313206,718238470,1283918452,-1791070614,677149678,1490848420,-1461438670,672118408,-312085080,-1650376389,-282028732,1203770958,55724417,851215611,926506290,-1567771517,-996037922,1039092355,1459888163,-1798977844,-1145541746,585948925,1331009590,448231799,-1002272762,-603557334,-69858795,778215909,-171005278,97940299,395434483,-1040030150,-1237971130,1240133944,992183200,-1195034300,-218809189,-1218007841,490978535,-1173421776,1236249033,980797947,-178145678,-1057453935,793331109,-224303733,-816278832,1243903466,-1800736079,228296943,358876820,1350293596,635819119,-916529482,1498721788,477563874,-829779261,-1580557718,-364383424,-432331990,1268993211,-347729608,481524266,118768584,-1698491706,-1110108023,-1332399808,-1315205964,89801950,-2984782,1339097231,1392130901,-1130167538,-1022126533,-904994907,-1259170818,-258170269,-1238950765,-1068647741,1066089561,-1086922800,-758835927,546657718,-781290251,612033082,116706052,1375337258,574603917,-174519485,-363490517,144195839,331643189,158476647,-28675391,-929908567,860430211,-1584463690,1102900626,1344671907,127089116,-1118717356,-1494375834,491670811,18203009,671348608,440900816,-77836375,862482373,-885429663,1459779141,-419750587,1234392894,-328231021,-1312935681,70964669,-1324195001,-798062722,-1538205638,-307377766,-116586970,663521411,-666267739,1510053912,-1705178049,-1345223765,1059788582,-1531465104,176335554,554788908,-1211296521,552217298,-21503031,-749270387,882614646,660354864,-1086997701,-1751508121,-738593352,-600600031,82381173,287567861,-1611801288,-1072978623,-835379335,842237886,731581859,-1656225460,958475502,-1480547468,-69633343,-1800519728,-262729791,-1016746126,-1747636568,-1775774934,1074443420,-1070728641,-1714738572,918958266,968984313,-1314083377,992709029,95698811}
	NextRangeSequenceTesting(t,1273291233,-1823193865,1537181466,expected)
}

func TestNextRange3(t *testing.T) {
	seed := int32(time.Now().Unix() % math.MaxInt32)
	r := NewRandom(seed)
	x := r.NextInt()
	for i := 0;i<1000;i++{
		rng, _ := r.NextRange(x,x)
		if rng != x{
			t.Errorf("the values does not match; seed: %d, got: %d, expected: %d", seed, rng, x)
		}
	}
}

func TestNextBytes(t *testing.T)  {
	expected := "m0TrrFzNiXyrw8pr873cWcyf1ZYaYEY0YCD12Xcx943yBC58+zbogEv6UP0p1B20cNgNb7dVJzr9t0w82LAFess8eO6PX12VtlRKHw9JCosDQWmfI4fWndzzfkTqrKib9dYx7VwuJBB6d7hiCggqtKzBOJdGZldEZdsRnOEYqwmsryo5Fx0u1BxYJKvOdJLUyMqYKXQRVI9/7YeBHIgvYsyutVve8ZyPkmN67kKrdfFIPdMWgIKVm1ubuSqVrLiUKMLfH7839tcuCZcQlmVM03eWOd+0GeFKGRn/Qzdx+eWr5cZ/zFYxEUf853frhQT1TuWz/nPY3w7glQalN7OfvQ+xZbGfzQcgZCeYuDFpX5QVCvVRvfpx0ga3nzdPjNmTXCpoOR9TVoHekplMQCbddzZyjyy+Tf8UQJKr6C3Q0NdNBFsHASV0wbRzcypgJZHf2icB3fyt1Q8rU/mNqG5TDcHB/jzL1nUQ/c14StrUsxoAyw0Gz/PboC5M260s5hlFIGVpnidVFASy8N8uNIs0V6DejNxgTT7O5l0NfvrI5Be0Mil1axTzq7cJU94TrGyiF4QNTVo95dMmmrjJR5UJ6gzIegFiv+uL6+EkVvlfuzrwa2Z2upe8d01VTtBcKWMiAGnSSjFrQFiYgWF4GI/ax9992dwuky90CwOzDXEbL8J+AlaPjHAIhSoO3Tg1RF6+eobx30+G8206Xj4utzLmfVKf+hY5SzpudFSxILX2Psek9ZLqKk9y9w7pVC4x2s33J2DmlklIhS9Mgmr71NO3RB92icGg/FMCLAIHUPYLPJqGufhVEKd9XHBinqfldiI6MRAPulELVysN42pHQDQ5QEXQdRrbYTN3+S1QPV2rHbXfzR7l/IJIemLNSC09Nhs7KV5iFQEIX9Ddl8EjuhrNYcW1Z3MWVEPDh/q4DhgGOsIRFRP/SQiz125NCGXAJb9I/+dniM+nJNUano0HT1C31lz/EqUGzhi9AY8FyUzdA2I6cA8xn7LyafA+5Kp6rIcdlTEJwBIaQTHOqYY/oluJPJsrzN9BhTepDKi1yOluQlUH5zMa1EJPIC7dY/UrsseUtKcOT9+o3BD5YLNqZHlHX2YxN7oobmhY26ywYyJCfVrhIRRBYPN1XwsjIXSP5bu1lgOO+noMa0U/tXMy93jtt+JZiUNlBv9zu9ivBU30yfbw+80fs4Pf1LXOAqqAQ2iSNWmRNVx4UI8DGz6iXGX3Sut8QvyrzgNferSOlgRV8nhwHNDkY5OaeKs9G5hEPHhP17e+AwBs52dlMbun6rmLrijGMkCVE+dY4spQbbJrGz08Pr9Mlu93BDVofjHY8o3xsm1vfQo4ucPQZiE2G3m0+Q=="
	r := NewRandom(1100344141)
	b := make([]byte, 1024)
	_ = r.NextBytes(b)
	if expected != base64.StdEncoding.EncodeToString(b){
		t.Errorf("bytes does not match")
	}
}

